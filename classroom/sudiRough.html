<!-- FINAL ENUM POPUP WRAPPER -->
<div id="enumPopup" class="popup-hidden">
  <div class="container">
    <div class="progress-bar">
      <div class="progress-bar-fill"></div>
    </div>
    <form id="multiStepForm">
      <div id="step1" class="step">
        <label class="section-title">Property Type</label>
        <div class="grid-2" id="propertyTypes"></div>
      </div>

      <div id="step2" class="step hidden">
        <label class="section-title">Type of Place</label>
        <div class="grid-1" id="placeTypes"></div>
      </div>

      <div id="step3" class="step hidden">
        <label class="section-title">Listing Categories</label>
        <div class="grid-3" id="categories"></div>
      </div>

      <div id="step4" class="step hidden">
        <label class="section-title">Amenities</label>
        <div class="grid-3" id="amenities"></div>
      </div>

      <input type="hidden" name="propertyType" id="propertyTypeInput" />
      <input type="hidden" name="placeType" id="placeTypeInput" />
      <div id="categoryInputs"></div>
      <div id="amenityInputs"></div>

      <div class="nav-buttons">
        <button type="button" id="backBtn" class="nav-btn">Back</button>
        <button type="submit" id="nextBtn" class="nav-btn">Next</button>
      </div>
    </form>
  </div>
  <button id="closeEnum" style="margin: 1rem auto; display: block">
    Close
  </button>
</div>

<!-- SCRIPT TOGGLE AND FUNCTION -->
<script>
  const toggleBox = document.getElementById("moreOptionsBox");
  const checkbox = document.getElementById("toggleEnumOptions");
  const enumPopup = document.getElementById("enumPopup");
  const closeBtn = document.getElementById("closeEnum");

  toggleBox.addEventListener("click", () => {
    checkbox.checked = !checkbox.checked;
    enumPopup.classList.toggle("popup-visible", checkbox.checked);
    enumPopup.classList.toggle("popup-hidden", !checkbox.checked);
  });

  closeBtn.addEventListener("click", () => {
    checkbox.checked = false;
    enumPopup.classList.add("popup-hidden");
    enumPopup.classList.remove("popup-visible");
  });

  const steps = ["step1", "step2", "step3", "step4"];
  let stepIndex = 0;
  const stepElements = steps.map((id) => document.getElementById(id));
  const backBtn = document.getElementById("backBtn");
  const nextBtn = document.getElementById("nextBtn");
  const progressBarFill = document.querySelector(".progress-bar-fill");
  const propertyTypes = [
    { icon: "apartment", label: "Apartment" },
    { icon: "house", label: "House" },
    { icon: "villa", label: "Villa" },
    { icon: "cottage", label: "Guesthouse" },
    { icon: "hotel", label: "Hotel" },
  ];
  const placeTypes = [
    { icon: "home", label: "Entire Place" },
    { icon: "meeting_room", label: "Private Room" },
    { icon: "bed", label: "Shared Room" },
  ];
  const categories = [
    { icon: "trending_up", label: "Trending" },
    { icon: "beach_access", label: "Beach" },
    { icon: "location_city", label: "Iconic Cities" },
    { icon: "terrain", label: "Mountains" },
    { icon: "meeting_room", label: "Rooms" },
    { icon: "pool", label: "Amazing Pools" },
    { icon: "park", label: "Camping" },
    { icon: "water", label: "Lake Front" },
    { icon: "castle", label: "Castles" },
    { icon: "agriculture", label: "Farms" },
    { icon: "home", label: "Tiny House" },
    { icon: "cable", label: "Cable Car" },
    { icon: "hotel", label: "Hotels" },
    { icon: "temple_buddhist", label: "Worship" },
    { icon: "account_balance", label: "Domes" },
    { icon: "directions_boat", label: "Boats" },
  ];
  const amenities = [
    { icon: "wifi", label: "WiFi" },
    { icon: "kitchen", label: "Kitchen" },
    { icon: "local_parking", label: "Free Parking" },
    { icon: "ac_unit", label: "Air Conditioning" },
    { icon: "local_laundry_service", label: "Washer" },
    { icon: "tv", label: "TV" },
    { icon: "pool", label: "Pool" },
    { icon: "whatshot", label: "Heating" },
    { icon: "laptop", label: "Workspace" },
    { icon: "pets", label: "Pet-Friendly" },
  ];
  const categoryInputs = document.getElementById("categoryInputs");
  const amenityInputs = document.getElementById("amenityInputs");
  const propertyInput = document.getElementById("propertyTypeInput");
  const placeInput = document.getElementById("placeTypeInput");
  let selectedTags = [],
    selectedAmenities = [];

  function renderOptions(
    containerId,
    options,
    single,
    stateVar,
    inputUpdateCallback
  ) {
    const container = document.getElementById(containerId);
    container.innerHTML = "";
    options.forEach((opt) => {
      const div = document.createElement("div");
      div.className = "btn-select";
      if (typeof opt === "object") {
        div.innerHTML = `
          <span class="material-symbols-outlined btn_icon">${opt.icon}</span>
          <span class="label-text">${opt.label}</span>
        `;
        div.dataset.value = opt.label;
      } else {
        div.textContent = opt;
        div.dataset.value = opt;
      }
      div.onclick = () => {
        if (single) {
          Array.from(container.children).forEach((c) =>
            c.classList.remove("selected")
          );
          div.classList.add("selected");
          inputUpdateCallback(opt.label || opt);
        } else {
          div.classList.toggle("selected");
          inputUpdateCallback();
        }
      };
      container.appendChild(div);
    });
  }

  renderOptions(
    "propertyTypes",
    propertyTypes,
    true,
    null,
    (val) => (propertyInput.value = val)
  );
  renderOptions(
    "placeTypes",
    placeTypes,
    true,
    null,
    (val) => (placeInput.value = val)
  );
  renderOptions("categories", categories, false, selectedTags, () => {
    selectedTags = Array.from(
      document.querySelectorAll("#categories .selected")
    ).map((div) => div.dataset.value);
    categoryInputs.innerHTML = selectedTags
      .map((tag) => `<input type="hidden" name="tags" value="${tag}">`)
      .join("");
  });
  renderOptions("amenities", amenities, false, selectedAmenities, () => {
    selectedAmenities = Array.from(
      document.querySelectorAll("#amenities .selected")
    ).map((div) => div.dataset.value);
    amenityInputs.innerHTML = selectedAmenities
      .map((tag) => `<input type="hidden" name="amenities" value="${tag}">`)
      .join("");
  });

  function updateStepUI() {
    stepElements.forEach((el, i) =>
      el.classList.toggle("hidden", i !== stepIndex)
    );
    progressBarFill.style.width = `${((stepIndex + 1) / steps.length) * 100}%`;
    backBtn.disabled = stepIndex === 0;
    nextBtn.textContent = stepIndex === steps.length - 1 ? "Submit" : "Next";
    nextBtn.type = stepIndex === steps.length - 1 ? "submit" : "button";
  }

  backBtn.onclick = () => {
    if (stepIndex > 0) stepIndex--;
    updateStepUI();
  };
  nextBtn.onclick = (e) => {
    if (stepIndex < steps.length - 1) {
      e.preventDefault();
      stepIndex++;
      updateStepUI();
    } else {
      e.preventDefault();
      alert("Form submitted!");
    }
  };

  updateStepUI();
</script>

<!-- --------------------------------------------------------------------- -->
<!-- ----------------------------------------------------------------------------------- -->
<!-- ----------------------------------------------------------------------------------- -->
<!-- --------------------------------------------------------------------- -->
<!-- -- -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Multi-Step Form</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <style>
      body {
        background-color: #f7f7f7;
        font-family: "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans",
          "Helvetica Neue", sans-serif;
        padding: 32px 16px;
        color: #222;
      }
      .container {
        max-width: 500px;
        margin: 0 auto;
        background-color: #fff;
        border-radius: 24px;
        padding: 35px;
        box-shadow: 0 12px 24px rgba(0, 0, 0, 0.12);
      }
      .progress-bar {
        height: 5px;
        background-color: #e0e0e0;
        border-radius: 3px;
        overflow: hidden;
        margin-bottom: 32px;
      }
      .progress-bar-fill {
        height: 100%;
        background-color: #4a90e2;
        border-radius: 3px;
        width: 0%;
        transition: width 0.3s ease;
      }
      .step {
        border: 1px solid #ccc;
        border-radius: 16px;
        padding: 24px;
        max-height: 360px;
        overflow-y: auto;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      }
      .hidden {
        display: none;
      }
      label.section-title {
        font-weight: 900;
        font-size: 18px;
        margin-bottom: 16px;
        display: block;
        color: #484848;
      }
      .grid-2 {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
        margin-bottom: 24px;
      }
      .grid-3 {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 12px;
        margin-bottom: 16px;
      }
      .btn-select {
        display: flex;
        flex-direction: column;
        align-items: start;
        justify-content: end;
        height: 90px;
        padding: 12px;
        border-radius: 12px;
        cursor: pointer;
        font-weight: 600;
        border: 1px solid #d9d9d8;
        text-align: left;
        user-select: none;
        transition: all 0.2s ease;
        background-color: #fff;
        color: #000;
      }
      .btn-select:hover:not(.selected) {
        background-color: #e6f0ff;
      }
      .btn-select.selected {
        background-color: #dddddc;
        color: #000;
        border: 2px solid black;
      }
      .nav-buttons {
        display: flex;
        justify-content: space-between;
        margin-top: 40px;
      }
      button.nav-btn {
        padding: 10px 20px;
        border-radius: 16px;
        background-color: #4a90e2;
        color: #fff;
        border: 1px solid transparent;
        cursor: pointer;
        font-weight: 600;
        font-size: 16px;
        user-select: none;
        transition: background-color 0.3s ease, box-shadow 0.2s ease;
      }
      button.nav-btn:disabled {
        cursor: not-allowed;
        opacity: 0.6;
      }
      button.nav-btn:hover:not(:disabled) {
        background-color: #d3d3d3;
        color: #000;
      }
      button.nav-btn:active:not(:disabled) {
        background-color: #a0a0a0;
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
        color: #000;
      }
      .btn-select .btn_icon {
        font-size: 3rem;
      }
      .material-symbols-outlined {
        font-size: 32px;
        margin-bottom: 6px;
      }
      .label-text {
        font-size: 14px;
      }
      .grid-3 {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 12px;
        margin-bottom: 16px;
      }
      #placeTypes {
        display: flex;
        flex-wrap: wrap;
        gap: 16px; /* space between items */
        margin-bottom: 16px;
        justify-content: space-evenly;
      }
    </style>
  </head>
  <body>
    <form id="multiStepForm">
      <div class="container">
        <div class="progress-bar"><div class="progress-bar-fill"></div></div>
        <div id="step1" class="step">
          <label class="section-title">Property Type</label>
          <div class="grid-2" id="propertyTypes"></div>
        </div>
        <div id="step2" class="step hidden">
          <label class="section-title">Type of Place</label>
          <div class="grid-1" id="placeTypes"></div>
        </div>

        <div id="step3" class="step hidden">
          <label class="section-title">Listing Categories</label>
          <div class="grid-3" id="categories"></div>
        </div>
        <div id="step4" class="step hidden">
          <label class="section-title">Amenities</label>
          <div class="grid-3" id="amenities"></div>
        </div>
        <input type="hidden" name="propertyType" id="propertyTypeInput" />
        <input type="hidden" name="placeType" id="placeTypeInput" />
        <div id="categoryInputs"></div>
        <div id="amenityInputs"></div>
        <div class="nav-buttons">
          <button type="button" id="backBtn" class="nav-btn">Back</button>
          <button type="submit" id="nextBtn" class="nav-btn">Next</button>
        </div>
      </div>
    </form>
    <script>
      const steps = ["step1", "step2", "step3", "step4"];
      let stepIndex = 0;
      const stepElements = steps.map((id) => document.getElementById(id));
      const backBtn = document.getElementById("backBtn");
      const nextBtn = document.getElementById("nextBtn");
      const progressBarFill = document.querySelector(".progress-bar-fill");
      const propertyTypes = [
        { icon: "apartment", label: "Apartment" },
        { icon: "house", label: "House" },
        { icon: "villa", label: "Villa" }, // villa icon doesn't exist in Material Icons; use substitute
        { icon: "cottage", label: "Guesthouse" }, // use "cottage" or similar icon
        { icon: "hotel", label: "Hotel" },
      ];
      const placeTypes = [
        { icon: "home", label: "Entire Place" },
        { icon: "meeting_room", label: "Private Room" },
        { icon: "bed", label: "Shared Room" },
      ];
      const categories = [
        { icon: "trending_up", label: "Trending" },
        { icon: "beach_access", label: "Beach" },
        { icon: "location_city", label: "Iconic Cities" },
        { icon: "terrain", label: "Mountains" },
        { icon: "meeting_room", label: "Rooms" },
        { icon: "pool", label: "Amazing Pools" },
        { icon: "park", label: "Camping" },
        { icon: "water", label: "Lake Front" },
        { icon: "castle", label: "Castles" },
        { icon: "agriculture", label: "Farms" },
        { icon: "home", label: "Tiny House" },
        { icon: "cable", label: "Cable Car" },
        { icon: "hotel", label: "Hotels" },
        { icon: "temple_buddhist", label: "Worship" },
        { icon: "account_balance", label: "Domes" },
        { icon: "directions_boat", label: "Boats" },
      ];
      const amenities = [
        { icon: "wifi", label: "WiFi" },
        { icon: "kitchen", label: "Kitchen" },
        { icon: "local_parking", label: "Free Parking" },
        { icon: "ac_unit", label: "Air Conditioning" },
        { icon: "local_laundry_service", label: "Washer" },
        { icon: "tv", label: "TV" },
        { icon: "pool", label: "Pool" },
        { icon: "whatshot", label: "Heating" },
        { icon: "laptop", label: "Workspace" },
        { icon: "pets", label: "Pet-Friendly" },
      ];
      const categoryInputs = document.getElementById("categoryInputs");
      const amenityInputs = document.getElementById("amenityInputs");
      const propertyInput = document.getElementById("propertyTypeInput");
      const placeInput = document.getElementById("placeTypeInput");
      let selectedTags = [],
        selectedAmenities = [];
      function renderOptions(
        containerId,
        options,
        single,
        stateVar,
        inputUpdateCallback
      ) {
        const container = document.getElementById(containerId);
        container.innerHTML = "";
        options.forEach((opt) => {
          const div = document.createElement("div");
          div.className = "btn-select";
          if (typeof opt === "object") {
            div.innerHTML = `
        <span class="material-symbols-outlined btn_icon">${opt.icon}</span>
        <span class="label-text">${opt.label}</span>
      `;
            div.dataset.value = opt.label;
          } else {
            div.textContent = opt;
            div.dataset.value = opt;
          }
          div.onclick = () => {
            if (single) {
              Array.from(container.children).forEach((c) =>
                c.classList.remove("selected")
              );
              div.classList.add("selected");
              inputUpdateCallback(opt.label || opt);
            } else {
              div.classList.toggle("selected");
              inputUpdateCallback();
            }
          };
          container.appendChild(div);
        });
      }
      renderOptions(
        "propertyTypes",
        propertyTypes,
        true,
        null,
        (val) => (propertyInput.value = val)
      );
      renderOptions(
        "placeTypes",
        placeTypes,
        true,
        null,
        (val) => (placeInput.value = val)
      );
      renderOptions("categories", categories, false, selectedTags, () => {
        selectedTags = Array.from(
          document.querySelectorAll("#categories .selected")
        ).map((div) => div.dataset.value);
        categoryInputs.innerHTML = selectedTags
          .map((tag) => `<input type="hidden" name="tags" value="${tag}">`)
          .join("");
      });
      renderOptions("amenities", amenities, false, selectedAmenities, () => {
        selectedAmenities = Array.from(
          document.querySelectorAll("#amenities .selected")
        ).map((div) => div.dataset.value);
        amenityInputs.innerHTML = selectedAmenities
          .map((tag) => `<input type="hidden" name="amenities" value="${tag}">`)
          .join("");
      });
      function updateStepUI() {
        stepElements.forEach((el, i) =>
          el.classList.toggle("hidden", i !== stepIndex)
        );
        progressBarFill.style.width = `${
          ((stepIndex + 1) / steps.length) * 100
        }%`;
        backBtn.disabled = stepIndex === 0;
        nextBtn.textContent =
          stepIndex === steps.length - 1 ? "Submit" : "Next";
        nextBtn.type = stepIndex === steps.length - 1 ? "submit" : "button";
      }
      backBtn.onclick = () => {
        if (stepIndex > 0) stepIndex--;
        updateStepUI();
      };
      nextBtn.onclick = (e) => {
        if (stepIndex < steps.length - 1) {
          e.preventDefault();
          stepIndex++;
          updateStepUI();
        } else {
          e.preventDefault(); // prevent form from refreshing
          alert("Form submitted!");
          // Or use AJAX or manually submit if needed
          // document.getElementById("multiStepForm").submit();
        }
      };
      updateStepUI();
    </script>
  </body>
</html>


<!-- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ -->



<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bootstrap 5.3.3 Modal Example</title>
  
  <!-- Bootstrap 5.3.3 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  
  <!-- Your Custom CSS here -->
  <style>
    .background-style-line-through {
      text-decoration: line-through;
      color: gray;
    }
  </style>
</head>
<body>

  <!-- Show All Amenities Button -->
  <div class="mt-3 col-md-10 offset-1">
    <button id="openModalBtn" class="btn btn-outline-dark">Show all amenities</button>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="allAmenitiesModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content p-4">
        <div class="modal-header">
          <h5 class="modal-title">All Amenities</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p>All your amenities content here...</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap 5.3.3 JS Bundle (includes Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const modalEl = document.getElementById('allAmenitiesModal');
      const openBtn = document.getElementById('openModalBtn');

      // Initialize modal
      const modal = new bootstrap.Modal(modalEl, {
        backdrop: true, // clicking outside closes modal
        keyboard: true  // ESC key closes modal
      });

      openBtn.addEventListener('click', () => {
        modal.show();
      });
    });
  </script>
</body>
</html>














